20190929 Factについて

data/circ007*.cnf

1. スイッチとランプのある単純な回路についてcnfを書き、
　スイッチを入れてもランプがつかない時の原因がわかるかどうか
　いろいろ実験をしてきた。

2. まず、その回路について成り立っていてほしいFactがあり
　これをExpectと呼ぶことにした。
　スイッチをオフにすると、ランプが消えているというようなことが
　これに含まれる。

3. 次に、「スイッチを入れてもランプがつかない」というのを
　goalにしてみた。

4. それだけでは、原因にたどりつけないので、スイッチとランプ
　以外に、バッテリーと配線についても書くことにした。

5. スイッチ、ランプ、バッテリー、配線のそれぞれの状態を
　書いた。

6. そこには回路について期待される動作が書いてあり、
　Factしかない。

  このとき、battery=emptyかwire=cutの状態でswitch,lamp=on,black
　となることが[]として得られた。

7. 次に、実際に、バッテリーの状態を確かめたり、配線が切れていないか
　確かめた結果を追記することにした。
　これで、wire=cutのほうが消えてくれたら願いがかなう。
　また、これもFactと言うしかない。

8. すると、この7で追加したFactが単独で[]を生み出し、cutとconnが
　矛盾して消えるということにはならなかった。

　なぜか?

8.5 まぎらわしいので、DC3とDC4はコメントアウトした。
　すべてをDC5で書くというのでよいのだろうか。
　DC3,DC4で書き、DC5がないほうがよいか??

9. たぶん、7の書き方がわるい。
  [x,y,z].[+DC5(x,y,z,conn)]
　だと、何の制約もないのにこれだけで[]がでる・・

　+DC5(on,black,z,conn)になってしまう

　どうかけばいいのか? 

  [z].[+DC5(on,light,z,conn)]

　はすでに書いてある。Eとして

10. たとえば、SwIs(s),LampIs(x),BatteryIs(s),WireIs(s)という
　1引数の述語を用意して、そこからDC5()に繋がるように書くのはどうか。

わからない20190929

11. DC5のないものを使ってみた。
  そこで、配線がcutされている場合の次の記述をコメントにしたら

 [].[+DC4(on, black, cut)]

　cutの[]はとれなくなった。あたりまえか。
　これはEではなく、Factでない式を消すという方法で
　テスト結果を反映している。

　これを証明の仕組みでしたい。

12. 11と同じことはDC5の次の行をコメントにしてもできた。
  (circ004e.cnf)

 [x].[+DC5(on, black, x, cut)]
　
13. 11,12は、書かないことによる否定ということだろうか。
　やりたいのは、書くことによるこの行の消去・・・
　
