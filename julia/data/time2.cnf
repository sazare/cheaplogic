@ Madoka world
@@ When Mahosyojo becomes Majo

# I don't use ge evaluatable
 <data/common.fun

 query 
[X,T2].[-MJ(X,T2)]

# How maho syojo becomes majo
 [x,sj,gs,t1,t2].[-MG(x,t1),-Have(x,sj,t1),-ge(t2,t1),+Have(x,gs,t2),+MJ(x,t2)]
[x,sj,gs,t1,WHEN2].[-MG(x,t1),-ge(t2,t1),-Greef(x,WHEN2),+MJ(x,WHEN2)]

 Fact
[t].[-lt(t,AT1),+G(Mami)]
[t].[-lt(t,AT1),+G(Kyoko)]
[t].[-lt(t,AT2),+G(Sayaka)]
[t].[-lt(t,AT4),+G(Madoka)]
 [t].[-lt(t,ATX),+G(Homura)]

[t].[-ge(t,AT1),+MG(Mami,t)]
[t].[-ge(t,AT1),+MG(Kyoko,t)]
[t].[-ge(t,AT1),+MG(Sayaka,t)]
[t].[-ge(t,AT1),+MG(Madoka,t)]

[t].[+C(QB,t)]
 [t].[+MG(Homura,t)]

[x,sj].[-G(x),+Have(x,sj)]


 Events

[].[+Meet(Mami,QB,AT1)]
[].[+Meet(Kyoko,QB,AT1)]
[].[+Meet(Sayaka,QB,AT2)]
[].[+Meet(Madoka,QB,AT4)]
[].[+ge(AT2,AT1)]
[].[+ge(AT4,AT2)]
[t1,t2,t3].[-ge(t2,t1),-ge(t3,t2),+ge(t3,t1)]

[].[+Greef(Kyoko,BT1)]
[].[+Greef(Sayaka,BT2)]
[].[+ge(BT1,BT2)]

[].[+ge(BT1,AT1)]


# Homura is out of the natual time line
 [].[+Meet(Homura,QB,ATX)]
 [t].[+ge(ATX,t)]
 [t].[+ge(t,ATX)]


 Theory
[x,t1,t2].[-G(x),-Meet(x,QB,t1),-ge(t2,t1),+MG(x,t2)]



